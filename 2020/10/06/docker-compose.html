<h1 id="notes-on-docker-compose">Notes on docker-compose</h1>

<ol id="markdown-toc">
  <li><a href="#notes-on-docker-compose" id="markdown-toc-notes-on-docker-compose">Notes on docker-compose</a>    <ol>
      <li><a href="#introduction" id="markdown-toc-introduction">Introduction</a></li>
      <li><a href="#different-file-names" id="markdown-toc-different-file-names">Different file names</a></li>
      <li><a href="#env-files" id="markdown-toc-env-files">.env files</a></li>
      <li><a href="#conclusion" id="markdown-toc-conclusion">Conclusion</a></li>
    </ol>
  </li>
</ol>

<h2 id="introduction">Introduction</h2>

<p>This is going to be a grab bag of docker-compose tips and snippets for things that I do commonly enough that I want to write them down but not commonly enough that I remember the syntax offhand.</p>

<h2 id="different-file-names">Different file names</h2>

<p>By default docker-compose wants the compose file to be <code class="language-plaintext highlighter-rouge">docker-compose.yml</code> in the same directory as the command is being run. Generally you want to stick with that, but I did come up with a situation where I wanted to give them different names. You can do <code class="language-plaintext highlighter-rouge">docker-compose -f &lt;file name&gt; &lt;rest of your commands&gt;</code> to get around this. Note that the <code class="language-plaintext highlighter-rouge">-f &lt;file name&gt;</code> has to be at the start, you can’t just put it in like any other flag.</p>

<h2 id="env-files">.env files</h2>

<p>One of the reasons I was trying to have different file names was because I wanted a bunch of different compose files to share a <a href="https://docs.docker.com/compose/env-file/">.env file</a>. My new solution is to have a <code class="language-plaintext highlighter-rouge">.env</code> file in the root directory of where I keep my compose files and then use symbolic links to make a link to that master file in each directory. Depending on how I created the link though I would run into a <code class="language-plaintext highlighter-rouge">too many levels of symbolic links</code> error. A clean way to solve this is to navigate to the subdirectory and run <code class="language-plaintext highlighter-rouge">ln -s ../.env .env</code>. Whatever you put after <code class="language-plaintext highlighter-rouge">-s</code> is literally what’s included in the link, so as long as there’s a <code class="language-plaintext highlighter-rouge">.env</code> file in the parent folder this will work, regardless of where in your file system you move these directories.</p>

<h2 id="conclusion">Conclusion</h2>

<p>That’s it for now. I’ll come back and update this document if anything else comes up.</p>
